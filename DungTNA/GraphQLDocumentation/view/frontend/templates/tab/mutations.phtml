<?php
/** @var $this Mutations */

use DungTNA\GraphQLDocumentation\Block\Tab\Mutations;

$items = $this->getItems();
$block = $this->getBlockHelper();
$type = 'mutation';
$sectionId = 'mutations-section';
?>

<?php if (empty($items)): ?>
    <div class="no-data">No mutations found in the GraphQL schema.</div>
<?php else: ?>
    <div class="schema-section">
        <div class="schema-section-header" onclick="GraphQLDocs.toggleSection('<?= $sectionId ?>')">
            <h3><span class="toggle-icon collapsed">ðŸ‘‡</span> All Mutations</h3>
            <span><?= count($items) ?> mutations</span>
        </div>
        <div class="schema-section-content collapsed" id="<?= $sectionId ?>">
            <?php foreach ($items as $name => $data): ?>
                <?= $this->getLayout()->createBlock(\DungTNA\GraphQLDocumentation\Block\Tab\Item::class)
                        ->setName($name)
                        ->setData($data)
                        ->setType($type)
                        ->setBlock($block)
                        ->toHtml() ?>
            <?php endforeach; ?>
        </div>
    </div>
<?php endif; ?>